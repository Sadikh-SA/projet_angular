{"ast":null,"code":"import _asyncToGenerator from \"/home/ababacar/Bureau/Master1/projet_angular/Front-End/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CheckoutComponent = class CheckoutComponent {\n  constructor(partageService, route, commandeService) {\n    this.partageService = partageService;\n    this.route = route;\n    this.commandeService = commandeService;\n    this.commandeEnvoye = false;\n  }\n\n  ngOnInit() {\n    this.partageService.panier.subscribe(panier => this.panier = panier);\n  }\n\n  prixDuPanier(panier) {\n    var prix = 0;\n    panier.forEach(livre => {\n      prix += livre.prix;\n    });\n    return prix;\n  }\n\n  validerPanier() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (localStorage.getItem('accessToken') == null || localStorage.getItem('accessToken') == undefined || localStorage.getItem('accessToken') == \"\") {\n        _this.route.navigate(['/auth'], {\n          queryParams: {\n            action: 'validation-panier'\n          }\n        });\n      } else {\n        _this.commandeEnvoye = yield _this.commandeService.ajouterCommande(_this.panier);\n\n        if (_this.commandeEnvoye) {\n          _this.route.navigate(['/order-confirmation']);\n        }\n      }\n    })();\n  }\n\n};\nCheckoutComponent = __decorate([Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.component.html',\n  styleUrls: ['./checkout.component.css']\n})], CheckoutComponent);\nexport { CheckoutComponent };","map":{"version":3,"sources":["/home/ababacar/Bureau/Master1/projet_angular/Front-End/src/app/checkout/checkout.component.ts"],"names":[],"mappings":";;AAAA,SAAS,SAAT,QAAkC,eAAlC;AASA,IAAa,iBAAiB,GAA9B,MAAa,iBAAb,CAA8B;AAE5B,EAAA,WAAA,CAAoB,cAApB,EAA2D,KAA3D,EAAiF,eAAjF,EAAiH;AAA7F,SAAA,cAAA,GAAA,cAAA;AAAuC,SAAA,KAAA,GAAA,KAAA;AAAsB,SAAA,eAAA,GAAA,eAAA;AAE1E,SAAA,cAAA,GAA0B,KAA1B;AAF8G;;AAGrH,EAAA,QAAQ,GAAA;AACN,SAAK,cAAL,CAAoB,MAApB,CAA2B,SAA3B,CAAsC,MAAD,IAAiB,KAAK,MAAL,GAAc,MAApE;AACD;;AAED,EAAA,YAAY,CAAC,MAAD,EAAc;AACxB,QAAI,IAAI,GAAG,CAAX;AACA,IAAA,MAAM,CAAC,OAAP,CAAe,KAAK,IAAG;AACrB,MAAA,IAAI,IAAI,KAAK,CAAC,IAAd;AACD,KAFD;AAGA,WAAO,IAAP;AACD;;AAEK,EAAA,aAAa,GAAA;AAAA;;AAAA;AACjB,UAAG,YAAY,CAAC,OAAb,CAAqB,aAArB,KAAuC,IAAvC,IAA+C,YAAY,CAAC,OAAb,CAAqB,aAArB,KAAuC,SAAtF,IAAmG,YAAY,CAAC,OAAb,CAAqB,aAArB,KAAuC,EAA7I,EAAgJ;AAC9I,QAAA,KAAI,CAAC,KAAL,CAAW,QAAX,CAAoB,CAAC,OAAD,CAApB,EAA+B;AAAE,UAAA,WAAW,EAAE;AAAE,YAAA,MAAM,EAAE;AAAV;AAAf,SAA/B;AACD,OAFD,MAEK;AACH,QAAA,KAAI,CAAC,cAAL,SAA4B,KAAI,CAAC,eAAL,CAAqB,eAArB,CAAqC,KAAI,CAAC,MAA1C,CAA5B;;AACA,YAAG,KAAI,CAAC,cAAR,EAAuB;AACrB,UAAA,KAAI,CAAC,KAAL,CAAW,QAAX,CAAoB,CAAC,qBAAD,CAApB;AACD;AACF;AARgB;AASlB;;AA1B2B,CAA9B;AAAa,iBAAiB,GAAA,UAAA,CAAA,CAL7B,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,cADD;AAET,EAAA,WAAW,EAAE,2BAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,0BAAD;AAHF,CAAD,CAKoB,CAAA,EAAjB,iBAAiB,CAAjB;SAAA,iB","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PartageService } from '../partage.service';\nimport { CommandeService } from '../commande.service';\nimport {Router} from '@angular/router';\n@Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.component.html',\n  styleUrls: ['./checkout.component.css']\n})\nexport class CheckoutComponent implements OnInit {\n\n  constructor(private partageService:PartageService, private route:Router, private commandeService: CommandeService) {}\n  public panier: any;\n  public commandeEnvoye: boolean = false;\n  ngOnInit(): void {\n    this.partageService.panier.subscribe((panier: any) => this.panier = panier)\n  }\n\n  prixDuPanier(panier: any[]) : any {\n    var prix = 0;\n    panier.forEach(livre => {\n      prix += livre.prix;\n    });\n    return prix;\n  }\n\n  async validerPanier() {\n    if(localStorage.getItem('accessToken') == null || localStorage.getItem('accessToken') == undefined || localStorage.getItem('accessToken') == \"\"){\n      this.route.navigate(['/auth'], { queryParams: { action: 'validation-panier' } });\n    }else{\n      this.commandeEnvoye = await this.commandeService.ajouterCommande(this.panier);\n      if(this.commandeEnvoye){\n        this.route.navigate(['/order-confirmation']);\n      }\n    }\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}