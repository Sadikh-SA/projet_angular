{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Saliou95/Desktop/Master1_Informatique/S1/projet_angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../authentication.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(authenticationService, route, aroute) {\n    this.route = route;\n    this.aroute = aroute;\n    this.email = \"\";\n    this.submitted = new EventEmitter();\n    this.nom_complet = \"\";\n    this.authenticationService = authenticationService;\n  }\n\n  ngOnInit() {}\n\n  register(data) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(data);\n      var response = \"\";\n\n      if (data.password1 !== data.password2) {\n        Swal.fire('Erreur', 'Les deux mots de passe entrés ne correspondent pas.', 'error');\n        return false;\n      }\n\n      response = yield _this.authenticationService.register(data);\n\n      if (response) {\n        Swal.fire('Terminé !', 'Votre inscription est terminée.', 'success').then(result => {\n          if (result) {\n            _this.route.navigate(['/auth']);\n          }\n        });\n      } else {\n        Swal.fire('Erreur', \"Quelque chose a pas marché. Reesayez !\", 'error');\n      }\n\n      return true;\n    })();\n  }\n\n  login(data) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(data);\n      var response = yield _this2.authenticationService.login(data);\n\n      if (!response) {\n        Swal.fire('Erreur de connexion', 'Votre email ou mot de passe est incorrect', 'error');\n      } else {\n        Swal.fire('Connexion réussie !', 'Vous etes connecté(e). Vous allez etre redigé(e)', 'success').then(result => {\n          if (result) {\n            // this.route.navigate(['/']);\n            if (null) {} else {\n              window.location.replace('/');\n            }\n          }\n        });\n      }\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthenticationService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  inputs: {\n    email: \"email\"\n  },\n  outputs: {\n    submitted: \"submitted\"\n  },\n  decls: 68,\n  vars: 0,\n  consts: [[1, \"breadcrumb-section\"], [1, \"sr-only\"], [1, \"container\"], [1, \"breadcrumb-contents\"], [\"aria-label\", \"breadcrumb\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"\"], [1, \"breadcrumb-item\", \"active\"], [1, \"page-section\", \"inner-page-sec-padding-bottom\"], [1, \"row\"], [1, \"col-sm-12\", \"col-md-12\", \"col-xs-12\", \"col-lg-6\", \"mb--30\", \"mb-lg--0\"], [\"action\", \"#\"], [1, \"login-form\"], [1, \"login-title\"], [1, \"font-weight-bold\"], [1, \"col-md-12\", \"col-12\", \"mb--15\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"name\", \"placeholder\", \"Entrer votre nom complet\", 1, \"mb-0\", \"form-control\"], [\"nom_complet\", \"\"], [1, \"col-12\", \"mb--20\"], [\"type\", \"email\", \"id\", \"email\", \"placeholder\", \"Entrer votre email ici..\", 1, \"mb-0\", \"form-control\"], [\"email\", \"\"], [1, \"col-lg-6\", \"mb--20\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"placeholder\", \"Enter votre mot de passe\", 1, \"mb-0\", \"form-control\"], [\"mdp\", \"\"], [\"type\", \"password\", \"id\", \"repeat-password\", \"placeholder\", \"Entrer \\u00E0 nouvau votre mot de passe\", 1, \"mb-0\", \"form-control\"], [\"mdp2\", \"\"], [1, \"col-md-12\"], [1, \"btn\", \"btn-outlined\", 3, \"click\"], [1, \"col-sm-12\", \"col-md-12\", \"col-lg-6\", \"col-xs-12\"], [\"action\", \"./\"], [\"type\", \"email\", \"id\", \"email1\", \"placeholder\", \"Entrer votre email ici...\", 1, \"mb-0\", \"form-control\"], [\"loginEmail\", \"\"], [\"type\", \"password\", \"id\", \"login-password\", \"placeholder\", \"Entrer votre mot de passe\", 1, \"mb-0\", \"form-control\"], [\"loginPassword\", \"\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r6 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelement(1, \"h2\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"nav\", 4);\n      i0.ɵɵelementStart(5, \"ol\", 5);\n      i0.ɵɵelementStart(6, \"li\", 6);\n      i0.ɵɵelementStart(7, \"a\", 7);\n      i0.ɵɵtext(8, \"Acceuil\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"li\", 8);\n      i0.ɵɵtext(10, \"Connexion\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"main\", 9);\n      i0.ɵɵelementStart(12, \"div\", 2);\n      i0.ɵɵelementStart(13, \"div\", 10);\n      i0.ɵɵelementStart(14, \"div\", 11);\n      i0.ɵɵelementStart(15, \"form\", 12);\n      i0.ɵɵelementStart(16, \"div\", 13);\n      i0.ɵɵelementStart(17, \"h4\", 14);\n      i0.ɵɵtext(18, \"Nouveau client\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"p\");\n      i0.ɵɵelementStart(20, \"span\", 15);\n      i0.ɵɵtext(21, \"Je suis un nouveau client\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 10);\n      i0.ɵɵelementStart(23, \"div\", 16);\n      i0.ɵɵelementStart(24, \"label\", 17);\n      i0.ɵɵtext(25, \"Nom complet\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 18, 19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 20);\n      i0.ɵɵelementStart(29, \"label\", 17);\n      i0.ɵɵtext(30, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"input\", 21, 22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\", 23);\n      i0.ɵɵelementStart(34, \"label\", 24);\n      i0.ɵɵtext(35, \"Mot de passe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(36, \"input\", 25, 26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"div\", 23);\n      i0.ɵɵelementStart(39, \"label\", 24);\n      i0.ɵɵtext(40, \"Confirmer mot de passe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(41, \"input\", 27, 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"div\", 29);\n      i0.ɵɵelementStart(44, \"a\", 30);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_44_listener() {\n        i0.ɵɵrestoreView(_r6);\n\n        const _r0 = i0.ɵɵreference(27);\n\n        const _r1 = i0.ɵɵreference(32);\n\n        const _r2 = i0.ɵɵreference(37);\n\n        const _r3 = i0.ɵɵreference(42);\n\n        return ctx.register({\n          nom_complet: _r0.value,\n          email: _r1.value,\n          password1: _r2.value,\n          password2: _r3.value\n        });\n      });\n      i0.ɵɵtext(45, \"S'inscrire\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 31);\n      i0.ɵɵelementStart(47, \"form\", 32);\n      i0.ɵɵelementStart(48, \"div\", 13);\n      i0.ɵɵelementStart(49, \"h4\", 14);\n      i0.ɵɵtext(50, \"Ancien client\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"p\");\n      i0.ɵɵelementStart(52, \"span\", 15);\n      i0.ɵɵtext(53, \"Je suis un ancien client\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"div\", 10);\n      i0.ɵɵelementStart(55, \"div\", 16);\n      i0.ɵɵelementStart(56, \"label\", 17);\n      i0.ɵɵtext(57, \"Entrer votre email ici...\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(58, \"input\", 33, 34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"div\", 20);\n      i0.ɵɵelementStart(61, \"label\", 24);\n      i0.ɵɵtext(62, \"Mot de passe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(63, \"input\", 35, 36);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"div\", 29);\n      i0.ɵɵelementStart(66, \"a\", 30);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_66_listener() {\n        i0.ɵɵrestoreView(_r6);\n\n        const _r4 = i0.ɵɵreference(59);\n\n        const _r5 = i0.ɵɵreference(64);\n\n        return ctx.login({\n          email: _r4.value,\n          password: _r5.value\n        });\n      });\n      i0.ɵɵtext(67, \"Se connecter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  directives: [i2.RouterLinkWithHref, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["C:\\Users\\Saliou95\\Desktop\\Master1_Informatique\\S1\\projet_angular\\src\\app\\login\\login.component.ts","C:\\Users\\Saliou95\\Desktop\\Master1_Informatique\\S1\\projet_angular\\src\\app\\login\\login.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\nimport { AuthenticationService } from '../authentication.service';\r\nimport Swal from 'sweetalert2';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  @Input()  email = \"\";\r\n  @Output() submitted = new EventEmitter<string>();\r\n  nom_complet = \"\";\r\n  authenticationService : AuthenticationService;\r\n  \r\n  constructor(authenticationService : AuthenticationService, private route:Router, private aroute: ActivatedRoute) {\r\n    this.authenticationService = authenticationService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async register(data: any) {\r\n    console.log(data);\r\n    var response = \"\";\r\n    if(data.password1 !== data.password2) {\r\n      Swal.fire(\r\n        'Erreur',\r\n        'Les deux mots de passe entrés ne correspondent pas.',\r\n        'error'\r\n      )\r\n      return false;\r\n    }\r\n    response = await this.authenticationService.register(data);\r\n     if(response) {\r\n      Swal.fire(\r\n        'Terminé !',\r\n        'Votre inscription est terminée.',\r\n        'success'\r\n      ).then((result) => {\r\n        if(result) {\r\n          this.route.navigate(['/auth']); \r\n        }\r\n      })\r\n    }\r\n    else {\r\n      Swal.fire(\r\n        'Erreur',\r\n        \"Quelque chose a pas marché. Reesayez !\",\r\n        'error'\r\n      )\r\n    }\r\n    return true;\r\n  }\r\n\r\n  async login(data: any) {\r\n    console.log(data);\r\n    var response = await this.authenticationService.login(data);\r\n    if(!response) {\r\n      Swal.fire(\r\n        'Erreur de connexion',\r\n        'Votre email ou mot de passe est incorrect',\r\n        'error'\r\n      )\r\n    }\r\n    else {\r\n      Swal.fire(\r\n        'Connexion réussie !',\r\n        'Vous etes connecté(e). Vous allez etre redigé(e)',\r\n        'success'\r\n      ).then((result) => {\r\n        if(result) {\r\n          // this.route.navigate(['/']);\r\n          if(null){\r\n            \r\n          }else {\r\n            window.location.replace('/');\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n","<section class=\"breadcrumb-section\">\r\n    <h2 class=\"sr-only\"></h2>\r\n    <div class=\"container\">\r\n        <div class=\"breadcrumb-contents\">\r\n            <nav aria-label=\"breadcrumb\">\r\n                <ol class=\"breadcrumb\">\r\n                    <li class=\"breadcrumb-item\"><a routerLink=\"\">Acceuil</a></li>\r\n                    <li class=\"breadcrumb-item active\">Connexion</li>\r\n                </ol>\r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n<main class=\"page-section inner-page-sec-padding-bottom\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12 col-md-12 col-xs-12 col-lg-6 mb--30 mb-lg--0\">\r\n                <!-- Login Form s-->\r\n                <form action=\"#\">\r\n                    <div class=\"login-form\">\r\n                        <h4 class=\"login-title\">Nouveau client</h4>\r\n                        <p><span class=\"font-weight-bold\">Je suis un nouveau client</span></p>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12 col-12 mb--15\">\r\n                                <label for=\"email\">Nom complet</label>\r\n                                <input class=\"mb-0 form-control\" type=\"text\" id=\"name\"\r\n                                    placeholder=\"Entrer votre nom complet\" #nom_complet >\r\n                            </div>\r\n                            <div class=\"col-12 mb--20\">\r\n                                <label for=\"email\">Email</label>\r\n                                <input class=\"mb-0 form-control\" type=\"email\" id=\"email\" placeholder=\"Entrer votre email ici..\" #email>\r\n                            </div>\r\n                            <div class=\"col-lg-6 mb--20\">\r\n                                <label for=\"password\">Mot de passe</label>\r\n                                <input class=\"mb-0 form-control\" type=\"password\" id=\"password\" placeholder=\"Enter votre mot de passe\" #mdp>\r\n                            </div>\r\n                            <div class=\"col-lg-6 mb--20\">\r\n                                <label for=\"password\">Confirmer mot de passe</label>\r\n                                <input class=\"mb-0 form-control\" type=\"password\" id=\"repeat-password\" placeholder=\"Entrer à nouvau votre mot de passe\" #mdp2>\r\n                            </div>\r\n                            <div class=\"col-md-12\">\r\n                                <a (click)=\"register({nom_complet: nom_complet.value, email: email.value, password1: mdp.value, password2: mdp2.value })\" class=\"btn btn-outlined\">S'inscrire</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div class=\"col-sm-12 col-md-12 col-lg-6 col-xs-12\">\r\n                <form action=\"./\">\r\n                    <div class=\"login-form\">\r\n                        <h4 class=\"login-title\">Ancien client</h4>\r\n                        <p><span class=\"font-weight-bold\">Je suis un ancien client</span></p>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12 col-12 mb--15\">\r\n                                <label for=\"email\">Entrer votre email ici...</label>\r\n                                <input class=\"mb-0 form-control\" type=\"email\" id=\"email1\"\r\n                                    placeholder=\"Entrer votre email ici...\" #loginEmail>\r\n                            </div>\r\n                            <div class=\"col-12 mb--20\">\r\n                                <label for=\"password\">Mot de passe</label>\r\n                                <input class=\"mb-0 form-control\" type=\"password\" id=\"login-password\" placeholder=\"Entrer votre mot de passe\" #loginPassword>\r\n                            </div>\r\n                            <div class=\"col-md-12\">\r\n                                <a class=\"btn btn-outlined\" (click)=\"login({ email: loginEmail.value, password: loginPassword.value })\">Se connecter</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}