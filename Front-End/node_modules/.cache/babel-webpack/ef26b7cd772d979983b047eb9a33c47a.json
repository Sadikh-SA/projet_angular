{"ast":null,"code":"import _asyncToGenerator from \"/home/maureen/projet_angular/Front-End/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport * as i0 from \"@angular/core\";\nexport class CommandeService {\n  constructor() {}\n\n  ajouterCommande(livres) {\n    return _asyncToGenerator(function* () {\n      var response;\n      var userId;\n      var data = JSON.stringify({\n        user: localStorage.getItem(\"userId\"),\n        livres: livres\n      });\n\n      try {\n        response = yield axios.post(\"http://localhost:3030/commandes\", data, {\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n          }\n        });\n        console.log(\"La reponse\", response);\n        var code = response.status;\n        return code == 201;\n      } catch (error) {\n        return false;\n      }\n    })();\n  }\n\n  getCommande(id) {\n    return _asyncToGenerator(function* () {\n      var response;\n\n      try {\n        response = yield axios.get(\"http://localhost:3030/commandes/\" + id, {\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n          }\n        });\n        var data = response.data;\n        return data;\n      } catch (error) {\n        return false;\n      }\n    })();\n  }\n\n  getCommandes() {\n    return _asyncToGenerator(function* () {\n      var response;\n\n      try {\n        response = yield axios.get(\"http://localhost:3030/commandes/?user=\" + localStorage.getItem(\"userId\"), {\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n          }\n        });\n        var data = response.data.data;\n        return data;\n      } catch (error) {\n        return false;\n      }\n    })();\n  }\n\n}\n\nCommandeService.ɵfac = function CommandeService_Factory(t) {\n  return new (t || CommandeService)();\n};\n\nCommandeService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CommandeService,\n  factory: CommandeService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/home/maureen/projet_angular/Front-End/src/app/commande.service.ts"],"names":[],"mappings":";AACA,OAAO,KAAP,MAAkB,OAAlB;;AAIA,OAAM,MAAO,eAAP,CAAsB;AAE1B,EAAA,WAAA,GAAA,CAAiB;;AACX,EAAA,eAAe,CAAC,MAAD,EAAc;AAAA;AACjC,UAAI,QAAJ;AACA,UAAI,MAAJ;AACA,UAAI,IAAI,GAAG,IAAI,CAAC,SAAL,CAAe;AAAE,QAAA,IAAI,EAAE,YAAY,CAAC,OAAb,CAAqB,QAArB,CAAR;AAAwC,QAAA,MAAM,EAAE;AAAhD,OAAf,CAAX;;AACA,UAAI;AACF,QAAA,QAAQ,SAAS,KAAK,CAAC,IAAN,CAAW,iCAAX,EAA8C,IAA9C,EAAoD;AAAC,UAAA,OAAO,EAAE;AAC7E,2CAA+B,GAD8C;AAE7E,4BAAgB,kBAF6D;AAG7E,YAAA,aAAa,EAAE,UAAU,YAAY,CAAC,OAAb,CAAqB,aAArB,CAAmC;AAHiB;AAAV,SAApD,CAAjB;AAKD,QAAA,OAAO,CAAC,GAAR,CAAY,YAAZ,EAA0B,QAA1B;AACC,YAAI,IAAI,GAAG,QAAQ,CAAC,MAApB;AACA,eAAO,IAAI,IAAI,GAAf;AACD,OATD,CASE,OAAO,KAAP,EAAc;AACd,eAAO,KAAP;AACD;AAfgC;AAgBlC;;AAEK,EAAA,WAAW,CAAC,EAAD,EAAQ;AAAA;AACvB,UAAI,QAAJ;;AACA,UAAI;AACF,QAAA,QAAQ,SAAS,KAAK,CAAC,GAAN,CAAU,qCAAmC,EAA7C,EAAiD;AAAC,UAAA,OAAO,EAAE;AAC1E,2CAA+B,GAD2C;AAE1E,4BAAgB,kBAF0D;AAG1E,YAAA,aAAa,EAAE,UAAU,YAAY,CAAC,OAAb,CAAqB,aAArB,CAAmC;AAHc;AAAV,SAAjD,CAAjB;AAKA,YAAI,IAAI,GAAG,QAAQ,CAAC,IAApB;AACA,eAAO,IAAP;AACD,OARD,CAQE,OAAO,KAAP,EAAc;AACd,eAAO,KAAP;AACD;AAZsB;AAaxB;;AACK,EAAA,YAAY,GAAA;AAAA;AAChB,UAAI,QAAJ;;AACA,UAAI;AACF,QAAA,QAAQ,SAAS,KAAK,CAAC,GAAN,CAAU,2CAAyC,YAAY,CAAC,OAAb,CAAqB,QAArB,CAAnD,EAAmF;AAAC,UAAA,OAAO,EAAE;AAC5G,2CAA+B,GAD6E;AAE5G,4BAAgB,kBAF4F;AAG5G,YAAA,aAAa,EAAE,UAAU,YAAY,CAAC,OAAb,CAAqB,aAArB,CAAmC;AAHgD;AAAV,SAAnF,CAAjB;AAKA,YAAI,IAAI,GAAG,QAAQ,CAAC,IAAT,CAAc,IAAzB;AACA,eAAO,IAAP;AACD,OARD,CAQE,OAAO,KAAP,EAAc;AACd,eAAO,KAAP;AACD;AAZe;AAajB;;AAhDyB;;;mBAAf,e;AAAe,C;;;SAAf,e;AAAe,EAAA,OAAA,EAAf,eAAe,CAAA,I;AAAA,EAAA,UAAA,EAFd","sourcesContent":["import { Injectable } from '@angular/core';\nimport axios from 'axios';\n@Injectable({\n  providedIn: 'root'\n})\nexport class CommandeService {\n\n  constructor() { }\n  async ajouterCommande(livres: any[]): Promise<any> {\n    var response;\n    var userId:string;\n    var data = JSON.stringify({ user: localStorage.getItem(\"userId\"), livres: livres});\n    try {\n      response = await axios.post(\"http://localhost:3030/commandes\", data, {headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n     }});\n     console.log(\"La reponse\", response);\n      var code = response.status;\n      return code == 201;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  async getCommande(id: any): Promise<any> {\n    var response:any;\n    try {\n      response = await axios.get(\"http://localhost:3030/commandes/\"+id, {headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n     }});\n      var data = response.data;\n      return data;\n    } catch (error) {\n      return false;\n    }\n  }\n  async getCommandes(): Promise<any> {\n    var response:any;\n    try {\n      response = await axios.get(\"http://localhost:3030/commandes/?user=\"+localStorage.getItem(\"userId\"), {headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n     }});\n      var data = response.data.data;\n      return data;\n    } catch (error) {\n      return false;\n    }\n  }\n\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}