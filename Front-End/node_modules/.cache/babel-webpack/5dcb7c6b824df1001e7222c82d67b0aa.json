{"ast":null,"code":"import _asyncToGenerator from \"/home/ababacar/Bureau/Master1/projet_angular/Front-End/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { LivresService } from '../Services/livres.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/livres.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../Services/partage.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\n\nfunction HomeComponent_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const categorie_r11 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", categorie_r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(categorie_r11);\n  }\n}\n\nfunction HomeComponent_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const auteur_r12 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", auteur_r12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(auteur_r12);\n  }\n}\n\nfunction HomeComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const annee_r13 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", annee_r13);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(annee_r13);\n  }\n}\n\nfunction HomeComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"div\", 31);\n    i0.ɵɵelementStart(2, \"div\", 32);\n    i0.ɵɵelementStart(3, \"div\", 33);\n    i0.ɵɵelementStart(4, \"a\", 34);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h3\");\n    i0.ɵɵelementStart(7, \"a\", 35);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 36);\n    i0.ɵɵelementStart(10, \"div\", 37);\n    i0.ɵɵelement(11, \"img\", 38);\n    i0.ɵɵelementStart(12, \"div\", 39);\n    i0.ɵɵelement(13, \"a\", 40);\n    i0.ɵɵelementStart(14, \"div\", 41);\n    i0.ɵɵelementStart(15, \"a\", 42);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_34_Template_a_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const livre_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.addToPanier(livre_r14);\n    });\n    i0.ɵɵelement(16, \"i\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"a\", 44);\n    i0.ɵɵelement(18, \"i\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 46);\n    i0.ɵɵelementStart(20, \"span\", 47);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"del\", 48);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const livre_r14 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", livre_r14.auteur, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"book/\", livre_r14._id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(livre_r14.nom);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", livre_r14.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"book/\", livre_r14._id, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", livre_r14.prix, \"\\u20AC\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", livre_r14.prix + 10, \"\\u20AC\");\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    \"active\": a0,\n    \"\": a1\n  };\n};\n\nfunction HomeComponent_li_42_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 49);\n    i0.ɵɵelementStart(1, \"a\", 42);\n    i0.ɵɵlistener(\"click\", function HomeComponent_li_42_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const i_r18 = restoredCtx.index;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.goToPage(i_r18 + 1);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r18 = ctx.index;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c0, i_r18 + 1 == ctx_r10.page, !(i_r18 + 1 == ctx_r10.page)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r18 + 1, \"\");\n  }\n}\n\nexport class HomeComponent {\n  constructor(livresService, route, partageService) {\n    this.route = route;\n    this.partageService = partageService;\n    this.nItemP = 8;\n    this.page = 1;\n    this.livresService = new LivresService();\n    this.livres = [];\n    this.npages = 0;\n    this.Alllivres = [];\n    this.AlllivresFiltre = [];\n    this.listeAuteurs = [];\n    this.listeAnnees = [];\n    this.listeCategories = [];\n    t;\n    this.getAllLivres();\n  }\n\n  addToPanier(livre) {\n    this.panier.push(livre);\n    this.partageService.addTopanier(this.panier);\n  }\n\n  ngOnInit() {\n    this.partageService.panier.subscribe(panier => this.panier = panier);\n  }\n\n  rechercher(data) {\n    this.livres = this.Alllivres;\n    this.livres = this.livres.filter(livre => {\n      var _a;\n\n      return (_a = livre.nom) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase().includes(data.motclee.toLocaleLowerCase());\n    });\n\n    if (data.categorie !== \"\") {\n      this.livres = this.livres.filter(livre => {\n        var _a;\n\n        return (_a = livre.categorie) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase().includes(data.categorie.toLocaleLowerCase());\n      });\n    }\n\n    if (data.auteur !== \"\") {\n      this.livres = this.livres.filter(livre => {\n        var _a;\n\n        return ((_a = livre.auteur) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase()) === data.auteur.toLocaleLowerCase();\n      });\n    }\n\n    if (data.annee !== \"\") {\n      this.livres = this.livres.filter(livre => livre.annee == data.annee);\n    }\n\n    if (data.minPrix !== \"\") {\n      this.livres = this.livres.filter(livre => livre.prix >= data.minPrix);\n    }\n\n    if (data.maxPrix !== \"\") {\n      this.livres = this.livres.filter(livre => livre.prix <= data.maxPrix);\n    }\n\n    this.page = 1;\n    this.npages = this.livres.length / this.nItemP;\n\n    if (Math.trunc(this.npages) < this.npages) {\n      this.npages = Math.trunc(this.npages) + 1;\n    }\n\n    this.AlllivresFiltre = this.livres;\n    this.livres = this.AlllivresFiltre.slice((this.page - 1) * this.nItemP, this.page * this.nItemP);\n  }\n\n  getAllLivres() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.Alllivres = yield _this.livresService.getLivres();\n      _this.AlllivresFiltre = _this.Alllivres;\n      _this.livres = _this.Alllivres.slice((_this.page - 1) * _this.nItemP, _this.page * _this.nItemP);\n      _this.npages = _this.Alllivres.length / _this.nItemP;\n\n      if (Math.trunc(_this.npages) < _this.npages) {\n        _this.npages = Math.trunc(_this.npages) + 1;\n      }\n\n      _this.listeAnnees = _this.Alllivres.map(item => item.annee).filter((value, index, self) => self.indexOf(value) === index).sort();\n      _this.listeAuteurs = _this.Alllivres.map(item => item.auteur).filter((value, index, self) => self.indexOf(value) === index);\n      _this.listeCategories = _this.Alllivres.map(item => item.categorie).filter((value, index, self) => self.indexOf(value) === index);\n    })();\n  }\n\n  goToPage(n) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.page = n;\n      _this2.livres = _this2.AlllivresFiltre.slice((_this2.page - 1) * _this2.nItemP, _this2.page * _this2.nItemP);\n    })();\n  }\n\n  goToNextPage() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.page = _this3.page + 1;\n      _this3.livres = _this3.AlllivresFiltre.slice((_this3.page - 1) * _this3.nItemP, _this3.page * _this3.nItemP);\n    })();\n  }\n\n  goToPrevPage() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      _this4.page = _this4.page - 1;\n      _this4.livres = _this4.AlllivresFiltre.slice((_this4.page - 1) * _this4.nItemP, _this4.page * _this4.nItemP);\n    })();\n  }\n\n  counter(i) {\n    return new Array(i);\n  }\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.LivresService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.PartageService));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 46,\n  vars: 5,\n  consts: [[1, \"container\"], [1, \"col-lg-12\"], [1, \"header-search-block\"], [\"type\", \"text\", \"placeholder\", \"Rechercher un livre\"], [\"filtremotcle\", \"\"], [3, \"click\"], [2, \"display\", \"flex\"], [1, \"header-search-block\", \"col-3\"], [\"filtrecategorie\", \"\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"filtreauteur\", \"\"], [1, \"header-search-block\", \"col-2\"], [\"filtreannee\", \"\"], [\"type\", \"number\", \"placeholder\", \"Prix min\"], [\"filtreprixmin\", \"\"], [\"type\", \"number\", \"placeholder\", \"Prix max\"], [\"filtreprixmax\", \"\"], [1, \"shop-product-wrap\", \"with-pagination\", \"row\", \"space-db--30\", \"shop-border\", \"grid-four\"], [\"class\", \"col-lg-4 col-sm-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"pt--30\"], [1, \"col-md-12\"], [1, \"pagination-block\"], [1, \"pagination-btns\", \"flex-center\"], [1, \"single-btn\", \"prev-btn\", 3, \"click\"], [1, \"zmdi\", \"zmdi-chevron-left\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"single-btn\", \"next-btn\", 3, \"click\"], [1, \"zmdi\", \"zmdi-chevron-right\"], [3, \"value\"], [1, \"col-lg-4\", \"col-sm-6\"], [1, \"product-card\"], [1, \"product-grid-content\"], [1, \"product-header\"], [1, \"author\"], [3, \"routerLink\"], [1, \"product-card--body\"], [1, \"card-image\"], [\"alt\", \"\", 3, \"src\"], [1, \"hover-contents\"], [1, \"hover-image\"], [1, \"hover-btns\"], [1, \"single-btn\", 3, \"click\"], [1, \"fas\", \"fa-shopping-basket\"], [\"data-toggle\", \"modal\", \"data-target\", \"\", 1, \"single-btn\", 3, \"routerLink\"], [1, \"fas\", \"fa-eye\"], [1, \"price-block\"], [1, \"price\"], [1, \"price-old\"], [3, \"ngClass\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r21 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelement(3, \"input\", 3, 4);\n      i0.ɵɵelementStart(5, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_5_listener() {\n        i0.ɵɵrestoreView(_r21);\n\n        const _r0 = i0.ɵɵreference(4);\n\n        const _r1 = i0.ɵɵreference(10);\n\n        const _r3 = i0.ɵɵreference(16);\n\n        const _r5 = i0.ɵɵreference(22);\n\n        const _r7 = i0.ɵɵreference(28);\n\n        const _r8 = i0.ɵɵreference(31);\n\n        return ctx.rechercher({\n          motclee: _r0.value,\n          categorie: _r1.value,\n          auteur: _r3.value,\n          annee: _r5.value,\n          minPrix: _r7.value,\n          maxPrix: _r8.value\n        });\n      });\n      i0.ɵɵtext(6, \"Chercher\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"select\", null, 8);\n      i0.ɵɵelementStart(11, \"option\", 9);\n      i0.ɵɵtext(12, \"Choix cat\\u00E9gorie\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, HomeComponent_option_13_Template, 2, 2, \"option\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 7);\n      i0.ɵɵelementStart(15, \"select\", null, 11);\n      i0.ɵɵelementStart(17, \"option\", 9);\n      i0.ɵɵtext(18, \"Choix auteur\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, HomeComponent_option_19_Template, 2, 2, \"option\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 12);\n      i0.ɵɵelementStart(21, \"select\", null, 13);\n      i0.ɵɵelementStart(23, \"option\", 9);\n      i0.ɵɵtext(24, \"Choix ann\\u00E9e\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(25, HomeComponent_option_25_Template, 2, 2, \"option\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 12);\n      i0.ɵɵelement(27, \"input\", 14, 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 12);\n      i0.ɵɵelement(30, \"input\", 16, 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"br\");\n      i0.ɵɵelementStart(33, \"div\", 18);\n      i0.ɵɵtemplate(34, HomeComponent_div_34_Template, 24, 7, \"div\", 19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 20);\n      i0.ɵɵelementStart(36, \"div\", 21);\n      i0.ɵɵelementStart(37, \"div\", 22);\n      i0.ɵɵelementStart(38, \"ul\", 23);\n      i0.ɵɵelementStart(39, \"li\");\n      i0.ɵɵelementStart(40, \"a\", 24);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_40_listener() {\n        return ctx.goToPrevPage();\n      });\n      i0.ɵɵelement(41, \"i\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(42, HomeComponent_li_42_Template, 3, 5, \"li\", 26);\n      i0.ɵɵelementStart(43, \"li\");\n      i0.ɵɵelementStart(44, \"a\", 27);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_44_listener() {\n        return ctx.goToNextPage();\n      });\n      i0.ɵɵelement(45, \"i\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listeCategories);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listeAuteurs);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listeAnnees);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.livres);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.counter(ctx.npages));\n    }\n  },\n  directives: [i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i5.NgForOf, i2.RouterLinkWithHref, i5.NgClass],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJob21lLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["/home/ababacar/Bureau/Master1/projet_angular/Front-End/src/app/home/home.component.ts","/home/ababacar/Bureau/Master1/projet_angular/Front-End/src/app/home/home.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {Router} from '@angular/router';\nimport { Livre } from '../models/Livre';\nimport { LivresService } from '../Services/livres.service';\nimport { PartageService } from '../Services/partage.service';\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  public livres: Livre[];\n  public Alllivres: Livre[];\n  public AlllivresFiltre: Livre[];\n  public npages: number;\n  public nItemP = 8;\n  public page = 1;\n  public listeAuteurs : any[];\n  public listeAnnees : any[];\n  public listeCategories : any[];\n  public panier : Livre[];\n  livresService = new LivresService;\n  constructor(livresService : LivresService, private route:Router, private partageService:PartageService) {\n    this.livres = [];\n    this.npages = 0;\n    this.Alllivres = [];\n    this.AlllivresFiltre = [];\n    this.listeAuteurs = [];\n    this.listeAnnees = [];\n    this.listeCategories = [];\n    t\n    \n    this.getAllLivres() ;\n\n  }\n\n  addToPanier(livre:Livre) {\n    this.panier.push(livre);\n    this.partageService.addTopanier(this.panier);\n\n  }\n\n  ngOnInit(): void {\n    this.partageService.panier.subscribe((panier: any) => this.panier = panier)\n  }\n\n  rechercher(data: any) {\n    this.livres = this.Alllivres;\n    this.livres = this.livres.filter((livre) => livre.nom?.toLocaleLowerCase().includes(data.motclee.toLocaleLowerCase()));\n    if(data.categorie !==\"\") {\n      this.livres = this.livres.filter((livre) => livre.categorie?.toLocaleLowerCase().includes(data.categorie.toLocaleLowerCase()));\n    }\n    if(data.auteur !==\"\") {\n      this.livres = this.livres.filter((livre) => livre.auteur?.toLocaleLowerCase() === data.auteur.toLocaleLowerCase());\n    }\n    if(data.annee !==\"\") {\n      this.livres = this.livres.filter((livre) =>  livre.annee == data.annee);\n    }\n    if(data.minPrix !==\"\") {\n      this.livres = this.livres.filter((livre) =>  livre.prix >= data.minPrix );\n    }\n    if(data.maxPrix !==\"\") {\n      this.livres = this.livres.filter((livre) =>  livre.prix <= data.maxPrix );\n    }\n    this.page = 1;\n    this.npages = (this.livres.length/this.nItemP);\n    if(Math.trunc(this.npages) < this.npages) {this.npages = Math.trunc(this.npages) + 1;}\n    this.AlllivresFiltre = this.livres;\n    this.livres = this.AlllivresFiltre.slice((this.page-1)*this.nItemP, (this.page)*this.nItemP);\n    \n  }\n\n\n  async getAllLivres() {\n    this.Alllivres = await this.livresService.getLivres();\n    this.AlllivresFiltre = this.Alllivres;\n    this.livres = this.Alllivres.slice((this.page-1)*this.nItemP, (this.page)*this.nItemP);\n    this.npages = (this.Alllivres.length/this.nItemP);\n    if(Math.trunc(this.npages) < this.npages) {this.npages = Math.trunc(this.npages) + 1;}\n    this.listeAnnees =  (this.Alllivres.map(item => item.annee).filter((value, index, self) => self.indexOf(value) === index)).sort()\n    this.listeAuteurs =  this.Alllivres.map(item => item.auteur).filter((value, index, self) => self.indexOf(value) === index)\n    this.listeCategories =  this.Alllivres.map(item => item.categorie).filter((value, index, self) => self.indexOf(value) === index)\n  }\n\n  async goToPage(n: number) {\n    this.page = n;\n    this.livres = this.AlllivresFiltre.slice((this.page-1)*this.nItemP, (this.page)*this.nItemP);\n  }\n\n  async goToNextPage() {\n    this.page = this.page+1;\n    this.livres = this.AlllivresFiltre.slice((this.page-1)*this.nItemP, (this.page)*this.nItemP);\n  }\n\n  async goToPrevPage() {\n    this.page = this.page - 1;\n    this.livres = this.AlllivresFiltre.slice((this.page-1)*this.nItemP, (this.page)*this.nItemP);\n  }\n\n  counter(i: number) {\n    return new Array(i);\n}\n\n}\n","<div class=\"container\">\n    <div class=\"col-lg-12\">\n        <div class=\"header-search-block\">\n            <input type=\"text\" placeholder=\"Rechercher un livre\" #filtremotcle >\n            <button (click)=\"rechercher({motclee: filtremotcle.value, categorie: filtrecategorie.value, auteur: filtreauteur.value, annee: filtreannee.value, minPrix: filtreprixmin.value, maxPrix: filtreprixmax.value})\">Chercher</button>\n        </div>\n        <div style=\"display:flex;\">\n            <div class=\"header-search-block col-3\">\n                <select #filtrecategorie>\n                    <option value=\"\">Choix catégorie</option>\n                    <option *ngFor=\"let categorie of listeCategories\" value=\"{{categorie}}\">{{categorie}}</option>\n                </select>\n            </div>\n            <div class=\"header-search-block col-3\">\n                <select #filtreauteur>\n                    <option value=\"\">Choix auteur</option>\n                    <option *ngFor=\"let auteur of listeAuteurs\" value=\"{{auteur}}\">{{auteur}}</option>\n                </select>\n            </div>\n            <div class=\"header-search-block col-2\">\n                <select #filtreannee>\n                    <option value=\"\">Choix année</option>\n                    <option *ngFor=\"let annee of listeAnnees\" value=\"{{annee}}\">{{annee}}</option>\n                </select>\n            </div>\n            <div class=\"header-search-block col-2\">\n                <input type=\"number\" placeholder=\"Prix min\" #filtreprixmin>\n            </div>\n            <div class=\"header-search-block col-2\">\n                <input type=\"number\" placeholder=\"Prix max\" #filtreprixmax>\n            </div>\n        </div>\n    </div>\n    <br/>\n    <div class=\"shop-product-wrap with-pagination row space-db--30 shop-border grid-four\">\n        <div *ngFor=\"let livre of livres\" class=\"col-lg-4 col-sm-6\">\n            <div class=\"product-card\">\n                <div class=\"product-grid-content\">\n                    <div class=\"product-header\">\n                        <a class=\"author\">\n                            {{livre.auteur}}\n                        </a>\n                        <h3><a routerLink=\"book/{{livre._id}}\">{{livre.nom}}</a></h3>\n                    </div>\n                    <div class=\"product-card--body\">\n                        <div class=\"card-image\">\n                            <img src=\"{{livre.img}}\" alt=\"\">\n                            <div class=\"hover-contents\">\n                                <a class=\"hover-image\">\n                                   \n                                </a>\n                                <div class=\"hover-btns\">\n                                    <a (click)=\"addToPanier(livre)\" class=\"single-btn\">\n                                        <i class=\"fas fa-shopping-basket\"></i>\n                                    </a>\n                                    <a routerLink=\"book/{{livre._id}}\" data-toggle=\"modal\" data-target=\"\"\n                                        class=\"single-btn\">\n                                        <i class=\"fas fa-eye\"></i>\n                                    </a>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"price-block\">\n                            <span class=\"price\">{{livre.prix}}€</span>\n                            <del class=\"price-old\">{{livre.prix+ 10}}€</del>\n                            <!-- <span class=\"price-discount\">20%</span> -->\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        </div>\n        <div class=\"row pt--30\">\n            <div class=\"col-md-12\">\n                <div class=\"pagination-block\">\n                    <ul class=\"pagination-btns flex-center\">\n                        <!-- <li><a class=\"single-btn prev-btn \">|<i class=\"zmdi zmdi-chevron-left\"></i> </a></li> -->\n                        <li><a (click)=\"goToPrevPage()\" class=\"single-btn prev-btn \"><i class=\"zmdi zmdi-chevron-left\"></i> </a>\n                        </li>\n\n                        <li *ngFor='let in of counter(npages) ; let i = index' [ngClass]=\"{'active':(i+1 == page), '': !(i+1 == page) }\"><a class=\"single-btn\" (click)=\"goToPage(i+1)\">\n                            {{i+1}}</a>\n                        </li>\n                        <li><a (click)=\"goToNextPage()\" class=\"single-btn next-btn\"><i class=\"zmdi zmdi-chevron-right\"></i></a>\n                        </li>\n                        <!-- <li><a href=\"\" class=\"single-btn next-btn\"><i class=\"zmdi zmdi-chevron-right\"></i>|</a></li> -->\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}